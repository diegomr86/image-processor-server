{"version":3,"sources":["../../src/global/index.ts","../../src/global/img-cache/img-cache.service.ts","../../src/providers/index.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/global/img-cache/lazy-img.component.ts","../../src/global/img-cache/lazy-img.directive.ts","../../src/global/utils/index.ts","../../src/directives/directives.module.ts","../../src/utils/utils.ts","../../src/pages/index.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/providers/api/api.ts","../../src/providers/settings/settings.ts","../../src/providers/database/database.ts","../../src/directives/img-cache/img-cache.ts","../../src/global/img-cache/index.ts","../../src/global/img-cache/img-cache.module.ts","../../src/global/utils/url.util.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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;AAAgC;AACe;AACA;;;;;;;;ACF/C;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;;;;;;;;AC1HiD;AAEjD;;GAEG;AAYH;IAXA;QAgBS,sBAAiB,GAAY,IAAI,CAAC;IAE3C,CAAC;IAJC;QADC,oEAAK,EAAE;;oDACc;IAHX,gBAAgB;QAX5B,wEAAS,CAAC;YACT,QAAQ,EAAE,aAAa;YACvB,QAAQ,EAAE,uMAMT;SAEF,CAAC;OACW,gBAAgB,CAO5B;IAAD,uBAAC;CAAA;AAP4B;;;;;;;;;;;;;;;;;;;;;ACTN;AAE+B;AAItD;;EAEE;AAIF;IAaE,2BAAmB,EAAc,EACxB,eAAgC,EAChC,QAAmB;QAFT,OAAE,GAAF,EAAE,CAAY;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAChC,aAAQ,GAAR,QAAQ,CAAW;QAZrB,WAAM,GAAW,EAAE,CAAC;QAGpB,WAAM,GAAuB,IAAI,mEAAY,EAAQ,CAAC;IAS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","file":"main.js","sourcesContent":["export * from './img-cache';\nexport * from './utils';\n\n\n\n// WEBPACK FOOTER //\n// ./src/global/index.ts","import { Injectable } from '@angular/core';\nimport { File } from '@ionic-native/file';\nimport { Platform } from 'ionic-angular';\n\nimport ImgCache from 'imgcache.js';\n\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nimport { map, take, flatMap, switchMapTo, tap } from 'rxjs/operators';\nimport { Observable } from 'rxjs/Observable';\nimport { bindCallback } from 'rxjs/observable/bindCallback';\n\nimport { normalizeUrlIos } from '../utils';\n\n/**\n * This service is charged of provide the methods to cache the images\n */\n@Injectable()\nexport class ImgCacheService {\n\n  private initNotifier$: ReplaySubject<string> = new ReplaySubject();\n\n  constructor(private platform: Platform, private file: File) {\n    // change on production mode\n    ImgCache.options.debug = true;\n  }\n\n  public get notifier$(): Observable<string> {\n    return this.initNotifier$.asObservable();\n  }\n\n  /**\n   * Init imgCache library\n   * @return {Promise}\n   */\n  public initImgCache(): Observable<string> {\n\n    const init$ = bindCallback<string>(ImgCache.init)();\n\n    return init$.pipe(\n      take(1),\n      tap(() => this.initNotifier$.next('init'))\n    );\n  }\n\n  /**\n   * Cache is image by using a url. If the image is already cached this method\n   * will return the URL\n   * @param src {string}\n   */\n  public cache(src: string): Observable<string> {\n    return this.notifier$.pipe(\n      switchMapTo(\n        this.isCached(src)\n          .pipe(\n            flatMap(([path, success]: [string, boolean]) => {\n              return success ? this.getCachedFileURL(path) : this.cacheFile(path);\n            }),\n            flatMap((url: string) => {\n              if (this.platform.is('ios')) {\n                return this.normalizeURlWKWview(url);\n              } else if (this.platform.is('cordova') || this.platform.is('android')) {\n                return this.file.resolveLocalFilesystemUrl(url).then((entry) => {\n                  var nativePath = entry.toURL();\n                  console.log('Native URI: ' + nativePath);\n                  return nativePath;\n                });\n              }\n              return url;\n            })\n          )\n      )\n    );\n  }\n\n  /**\n   * WKWebview doesn't accept urls with file;// or cvdfile:// protocols.\n   * The url is formatted and fix to find the img\n   * @param url\n   * @return {string} - url formatted\n   */\n  private normalizeURlWKWview(url: string) {\n    const urlIos = `${normalizeUrlIos(this.file.applicationStorageDirectory)}Library/files/${normalizeUrlIos(url)}`;\n    return urlIos.replace('/localhost/persistent', '');\n  }\n\n  /**\n   * Get file URL if cached\n   * @param src - image url\n   */\n  private getCachedFileURL(src: string): Observable<string> {\n    return bindCallback<string, string[]>(ImgCache.getCachedFileURL)(src)\n      .pipe(\n        map((urls: string[]) => urls[1])\n      );\n  }\n\n  /**\n   * Cache image using a url\n   * @param src {string}\n   */\n  private cacheFile(src: string): Observable<string> {\n    return bindCallback<string, string>(ImgCache.cacheFile)(src);\n  }\n\n  /**\n   * Check if image is already cached\n   * @param src\n   */\n  private isCached(src: string): Observable<[string, boolean]> {\n    return bindCallback<string, [string, boolean]>(ImgCache.isCached)(src);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/global/img-cache/img-cache.service.ts","export { Api } from './api/api';\nexport { Settings } from './settings/settings';\nexport { Database } from './database/database';\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/index.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 166;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 166\n// module chunks = 27","var map = {\n\t\"../pages/about/about.module\": [\n\t\t489,\n\t\t26\n\t],\n\t\"../pages/cards/cards.module\": [\n\t\t490,\n\t\t25\n\t],\n\t\"../pages/content/content.module\": [\n\t\t491,\n\t\t24\n\t],\n\t\"../pages/csas/csas.module\": [\n\t\t492,\n\t\t23\n\t],\n\t\"../pages/donate/donate.module\": [\n\t\t493,\n\t\t22\n\t],\n\t\"../pages/feed/feed.module\": [\n\t\t494,\n\t\t11\n\t],\n\t\"../pages/guide-form/guide-form.module\": [\n\t\t495,\n\t\t3\n\t],\n\t\"../pages/guide/guide.module\": [\n\t\t496,\n\t\t10\n\t],\n\t\"../pages/guides/guides.module\": [\n\t\t497,\n\t\t21\n\t],\n\t\"../pages/home/home.module\": [\n\t\t498,\n\t\t9\n\t],\n\t\"../pages/how-to-help/how-to-help.module\": [\n\t\t499,\n\t\t20\n\t],\n\t\"../pages/library/library.module\": [\n\t\t500,\n\t\t8\n\t],\n\t\"../pages/login/login.module\": [\n\t\t501,\n\t\t19\n\t],\n\t\"../pages/menu/menu.module\": [\n\t\t502,\n\t\t18\n\t],\n\t\"../pages/plant-form/plant-form.module\": [\n\t\t503,\n\t\t2\n\t],\n\t\"../pages/plant/plant.module\": [\n\t\t504,\n\t\t7\n\t],\n\t\"../pages/plants/plants.module\": [\n\t\t506,\n\t\t12\n\t],\n\t\"../pages/post-form/post-form.module\": [\n\t\t505,\n\t\t1\n\t],\n\t\"../pages/post/post.module\": [\n\t\t507,\n\t\t0\n\t],\n\t\"../pages/profile-edit/profile-edit.module\": [\n\t\t508,\n\t\t6\n\t],\n\t\"../pages/profile/profile.module\": [\n\t\t509,\n\t\t5\n\t],\n\t\"../pages/settings/settings.module\": [\n\t\t510,\n\t\t17\n\t],\n\t\"../pages/share/share.module\": [\n\t\t511,\n\t\t16\n\t],\n\t\"../pages/signup/signup.module\": [\n\t\t512,\n\t\t4\n\t],\n\t\"../pages/tabs/tabs.module\": [\n\t\t513,\n\t\t15\n\t],\n\t\"../pages/tutorial/tutorial.module\": [\n\t\t514,\n\t\t14\n\t],\n\t\"../pages/welcome/welcome.module\": [\n\t\t515,\n\t\t13\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 225;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 225\n// module chunks = 27","import { Component, Input } from '@angular/core';\n\n/**\n * Component in charge of lazy load images and cache them\n */\n@Component({\n  selector: 'op-lazy-img',\n  template: `\n  <div text-center [ngClass]=\"{ 'placeholder': placeholderActive }\">\n    <img op-lazy-img-cache [source]=\"source\" (loaded)=\"placeholderActive = false\"/>\n    {{source}}\n    \n  </div>\n  `,\n  // styleUrls: [ './lazy-img.component.scss' ]\n})\nexport class LazyImgComponent {\n\n  @Input()\n  public source: string;\n\n  public placeholderActive: boolean = true;\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/global/img-cache/lazy-img.component.ts","import {\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Output,\n  OnInit, OnDestroy, Renderer2\n} from '@angular/core';\n\nimport { ImgCacheService } from './img-cache.service';\n\nimport { Subscription } from 'rxjs/Subscription';\n\n/**\n* This directive is charge of cache the images and emit a loaded event\n*/\n@Directive({\n  selector: '[op-lazy-img-cache]'\n})\nexport class LazyLoadDirective implements OnInit, OnDestroy {\n\n  @Input('source') // double check\n  public source: string = '';\n\n  @Output()\n  public loaded: EventEmitter<void> = new EventEmitter<void>();\n\n  public loadListener: () => void;\n  public errorListener: () => void;\n\n  private cacheSubscription: Subscription;\n\n  constructor(public el: ElementRef,\n    public imgCacheService: ImgCacheService,\n    public renderer: Renderer2) { }\n\n  public ngOnInit(): void {\n    // get img element\n    const nativeElement: HTMLElement = this.el.nativeElement;\n    console.log('ELEMENT: ', nativeElement);\n    console.log('SRC: ', this.source);\n\n    // add load listener\n    this.loadListener = this.renderer.listen(nativeElement, 'load', () => {\n      this.renderer.addClass(nativeElement, 'loaded');\n      this.loaded.emit();\n    });\n\n    this.errorListener = this.renderer.listen(nativeElement, 'error', () => {\n      nativeElement.remove();\n    });\n\n    this.renderer.setAttribute(nativeElement, 'src', this.source);\n    // cache img and set the src to the img\n    this.cacheSubscription =\n      this.imgCacheService\n          .cache(this.source)\n          .subscribe((value) => {\n            this.renderer.setAttribute(nativeElement, 'src', value);\n          }, (e) => console.log(e));\n  }\n\n  public ngOnDestroy(): void {\n    // remove listeners\n    this.loadListener();\n    this.errorListener();\n    this.cacheSubscription.unsubscribe();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/global/img-cache/lazy-img.directive.ts","export * from './url.util';\n\n\n\n// WEBPACK FOOTER //\n// ./src/global/utils/index.ts","import { NgModule } from '@angular/core';\nimport { ImgCacheDirective } from './img-cache/img-cache';\n@NgModule({\n\tdeclarations: [ImgCacheDirective],\n\timports: [],\n\texports: [ImgCacheDirective]\n})\nexport class DirectivesModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/directives.module.ts","import { Injectable } from '@angular/core';\nimport { AlertController } from 'ionic-angular';\nimport { ToastController } from 'ionic-angular';\n\n@Injectable()\nexport class Utils {\n\n  constructor(public alertCtrl: AlertController, private toastCtrl: ToastController) { }\n\n  public showConfirm(onContinue) {\n    const confirm = this.alertCtrl.create({\n      title: 'Tem certeza disso?',\n      message: 'Essa é uma plataforma colaborativa e essa mudança vai valer para todos os usuários.',\n      buttons: [\n        {\n          text: 'Cancelar'\n        },\n        {\n          text: 'Continuar',\n          handler: onContinue\n        }\n      ]\n    });\n    confirm.present();\n  }\n\n  public showToast(message: string, cssClass?: string) {\n    let toast = this.toastCtrl.create({\n      message: message,\n      duration: 3000,\n      position: 'bottom',\n      cssClass: cssClass\n    });\n    toast.present();\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/utils.ts","// The page the user lands on after opening the app and without a session\nexport const FirstRunPage = 'WelcomePage';\n\n// The main page the user will see as they use the app over a long period of time.\n// Change this if not using tabs\n// export const MainPage = 'PlantsPage';\nexport const MainPage = 'HomePage';\n\n// The initial root pages for our tabs (remove if not using tabs)\nexport const Tab1Root = 'WelcomePage';\nexport const Tab2Root = 'SearchPage';\nexport const Tab3Root = 'SettingsPage';\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/index.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { Camera } from '@ionic-native/camera';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { IonicStorageModule, Storage } from '@ionic/storage';\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { Facebook } from '@ionic-native/facebook';\nimport { GooglePlus } from '@ionic-native/google-plus';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { File } from '@ionic-native/file';\nimport { SQLite } from '@ionic-native/sqlite';\nimport 'rxjs/add/observable/fromEvent';\n\n// import { LocationStrategy, PathLocationStrategy } from '@angular/common';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { DirectivesModule } from '../directives/directives.module';\nimport { Settings, Api, Database } from '../providers';\nimport { Utils } from '../utils/utils';\nimport { MyApp } from './app.component';\nimport { ImgCacheService } from '../global';\n\n// The translate loader needs to know where to load i18n files\n// in Ionic's static asset pipeline.\nexport function createTranslateLoader(http: HttpClient) {\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\nexport function provideSettings(storage: Storage) {\n  /**\n   * The Settings provider takes a set of default settings for your app.\n   *\n   * You can add new settings options at any time. Once the settings are saved,\n   * these values will not overwrite the saved values (this can be done manually if desired).\n   */\n  return new Settings(storage, {\n    option1: true,\n    option2: 'Ionitron J. Framework',\n    option3: '3',\n    option4: 'Hello'\n  });\n}\n\n@NgModule({\n  declarations: [\n    MyApp\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: (createTranslateLoader),\n        deps: [HttpClient]\n      }\n    }),\n    IonicModule.forRoot(MyApp),\n    IonicStorageModule.forRoot({\n      name: '__agrofloresta',\n         driverOrder: ['indexeddb', 'sqlite', 'websql']\n    }),\n    DirectivesModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp\n  ],\n  providers: [\n    Api,\n    Database,\n    Utils,\n    Camera,\n    SplashScreen,\n    StatusBar,\n    Facebook,\n    GooglePlus,\n    Geolocation,\n    File,\n    ImgCacheService,\n    SQLite,\n    { provide: Settings, useFactory: provideSettings, deps: [Storage] },\n    // Keep this to enable Ionic's runtime error handling during development\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\n    // { provide: LocationStrategy, useClass: PathLocationStrategy }\n  ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { HttpClient, HttpRequest, HttpParams } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\n\n/**\n * Api is a generic REST Api handler. Set your API url first.\n */\n@Injectable()\nexport class Api {\n  // url: string = 'http://localhost:5000/';\n  url: string = 'https://agrofloresta.diegomr86.ga/';\n  loading: boolean = false;\n  preview: any;\n\n  constructor(public http: HttpClient) {\n  }\n\n  fileUpload(fileItem:File, extraData?:object):any{\n    const formData: FormData = new FormData();\n\n    formData.append('image', fileItem, fileItem.name);\n    if (extraData) {\n      for(let key in extraData){\n          // iterate and set other form data\n        formData.append(key, extraData[key])\n      }\n    }\n\n    const req = new HttpRequest('POST', this.url+'images', formData);\n    return this.http.request(req)\n  }\n\n  setPreview(image, path?: string) {\n    let  p = this.imageUrl(image, path)\n    this.preview = p\n  }\n\n  imageUrl(picture, path?: string) {\n    if ((typeof picture) == 'string' && picture.startsWith('http')) {\n      return encodeURI(picture)\n    } else if (picture && picture['url']) {\n      if (picture['url'].startsWith('http')) {\n        return encodeURI(picture['url'])\n      } else {\n        return encodeURI(this.url + (path && picture[path] ? picture[path] : picture['medium']))  \n      }\n    }\n  }\n\n  processWebImage(event, form) {\n    this.loading = true\n    this.fileUpload(event.target.files[0]).subscribe(\n      event => {\n        if (event.body) {\n          this.loading = false\n          this.setPreview(event.body, 'medium')\n          form.patchValue({ 'picture': event.body });\n        }\n      }, \n      error =>{\n        this.loading = false\n      }\n    )\n  }\n\n  get(endpoint: string, params?: any, reqOpts?: any) {\n    if (!reqOpts) {\n      reqOpts = {\n        params: new HttpParams()\n      };\n    }\n\n    // Support easy query params for GET requests\n    if (params) {\n      reqOpts.params = new HttpParams();\n      for (let k in params) {\n        reqOpts.params = reqOpts.params.set(k, params[k]);\n      }\n    }\n    return this.http.get(this.url + endpoint, reqOpts);\n  }\n\n  post(endpoint: string, body: any, reqOpts?: any) {\n    return this.http.post(this.url + endpoint, body, reqOpts);\n  }\n\n  put(endpoint: string, body: any, reqOpts?: any) {\n    return this.http.put(this.url + endpoint, body, reqOpts);\n  }\n\n  delete(endpoint: string, reqOpts?: any) {\n    return this.http.delete(this.url + endpoint, reqOpts);\n  }\n\n  patch(endpoint: string, body: any, reqOpts?: any) {\n    return this.http.patch(this.url + endpoint, body, reqOpts);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/api/api.ts","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\n\n/**\n * A simple settings/config class for storing key/value pairs with persistence.\n */\n@Injectable()\nexport class Settings {\n  private SETTINGS_KEY: string = '_settings';\n\n  settings: any;\n\n  _defaults: any;\n  _readyPromise: Promise<any>;\n\n  constructor(public storage: Storage, defaults: any) {\n    this._defaults = defaults;\n  }\n\n  load() {\n    return this.storage.get(this.SETTINGS_KEY).then((value) => {\n      if (value) {\n        this.settings = value;\n        return this._mergeDefaults(this._defaults);\n      } else {\n        return this.setAll(this._defaults).then((val) => {\n          this.settings = val;\n        })\n      }\n    });\n  }\n\n  _mergeDefaults(defaults: any) {\n    for (let k in defaults) {\n      if (!(k in this.settings)) {\n        this.settings[k] = defaults[k];\n      }\n    }\n    return this.setAll(this.settings);\n  }\n\n  merge(settings: any) {\n    for (let k in settings) {\n      this.settings[k] = settings[k];\n    }\n    return this.save();\n  }\n\n  setValue(key: string, value: any) {\n    this.settings[key] = value;\n    return this.storage.set(this.SETTINGS_KEY, this.settings);\n  }\n\n  setAll(value: any) {\n    return this.storage.set(this.SETTINGS_KEY, value);\n  }\n\n  getValue(key: string) {\n    return this.storage.get(this.SETTINGS_KEY)\n      .then(settings => {\n        return settings[key];\n      });\n  }\n\n  save() {\n    return this.setAll(this.settings);\n  }\n\n  get allSettings() {\n    return this.settings;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/settings/settings.ts","import { Injectable } from '@angular/core';\nimport PouchDB from 'pouchdb';\nimport PouchFind from 'pouchdb-find';\nimport DeltaPouch from 'delta-pouch';\nimport WebSqlPouchCore from 'pouchdb-adapter-cordova-sqlite';\nimport { Item } from '../../models/item';\nimport { Platform } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\n\nPouchDB.plugin(DeltaPouch);\nPouchDB.plugin(PouchFind);\nPouchDB.plugin(WebSqlPouchCore);\n\n@Injectable()\nexport class Database {\n  \n  public db; \n  public remote; \n  public cycles;\n  public stratums;\n  public additional_fields;\n  public currentUser;\n  public showTour;\n  public syncSuccess;\n\n  constructor(public storage: Storage, public plt: Platform) { \n    \n    this.syncSuccess = false\n    \n    this.cycles = {\n        placenta1: 'Placenta 1 (Até 3 meses)',\n        placenta2: 'Placenta 2 (3 meses a 1 ano)',\n        secundaria1: 'Secundária 1 (1 a 10 anos)',\n        secundaria2: 'Secundária 2 (10 a 25 anos)',\n        secundaria3: 'Secundária 3 (25 a 50 anos)',\n        climax: 'Climax (Mais de 50 anos)' }\n\n    this.stratums = {\n      baixo: 'Baixo',\n      medio: 'Médio',\n      alto: 'Alto',\n      emergente: 'Emergente' };\n\n  }\n\n  sync() {\n    console.log(\"platform\", this.plt.is('android'));\n    if (this.plt.is('android')) {\n      this.db = new PouchDB('agrofloresta-local', { adapter: 'cordova-sqlite', location:'default', androidDatabaseProvider: 'system' });\n    } else {\n      this.db = new PouchDB('agrofloresta-local');\n    }\n\n    // this.remoteDb = new PouchDB('https://agrofloresta.diegomr86.ga:6984/agrofloresta-prod')\n    this.remote = 'https://23bf9857-dbb4-4bc1-bc27-9413f91dfe3b-bluemix.cloudant.com/agrofloresta';\n \n    let options = {\n      auth: {\n        username: \"23bf9857-dbb4-4bc1-bc27-9413f91dfe3b-bluemix\",\n        password: \"0ae78ba4ae29a03231d943f56d5408346f46ffd7dfde57f73accdc64a4d76578\"\n      }\n    };\n\n    let that = this\n    this.db.sync(this.remote, options).on('complete', function () {\n\n      console.log('DB sync first complete!');\n      options['live'] = true\n      options['retry'] = true\n      options['continuous'] = true\n\n      that.db.sync(that.remote, options).on('change', function (info) {\n        console.log('DB sync change: ', info);\n      }).on('paused', function (err) {\n        console.log('DB sync paused: ', err);\n      }).on('active', function () {\n        console.log('DB sync active');\n      }).on('denied', function (err) {\n        console.log('DB sync denied: ', err);\n      }).on('complete', function (info) {\n        console.log('DB sync complete: ', info);\n      }).on('error', function (err) {\n        console.log('DB sync error: ', err);\n      });;\n\n      that.syncSuccess = true;\n\n    }).on('error', function (err) {\n      console.log('DB sync error: ', err);\n    });\n\n  } \n\n  query(type: string, name?: string, filters?) {\n\n    let selector = { type: {$eq: type} }\n    if (name) {\n      selector['name'] = {$regex: RegExp(name, \"i\")}\n    }\n    if (filters) {\n      Object.keys(filters).forEach((key) => {\n        console.log(key, filters[key]);\n        if (filters[key]) {\n          selector[key] = { $eq: filters[key] }\n        }\n      })\n    }\n    console.log('query: sel '+JSON.stringify(selector));\n    console.log('query: index '+JSON.stringify(Object.keys(selector)));\n\n    let that = this\n\n    return this.db.createIndex({\n      index: {\n        fields: Object.keys(selector)\n      }\n    }).then(function (result) {\n      return that.db.find({\n        selector: selector\n      }).then(res => {\n        console.log('query: res length: '+JSON.stringify(res.docs.length));\n        var docs = {},\n        deletions = {};\n        res.docs.forEach(function (doc) {\n\n          if (!doc.$id) { // first delta for doc?\n            doc.$id = doc._id;\n          }\n          if (doc.$deleted) { // deleted?\n            delete(docs[doc.$id]);\n            deletions[doc.$id] = true;\n          } else if (!deletions[doc.$id]) { // update before any deletion?\n            if (docs[doc.$id]) { // exists?\n              docs[doc.$id] = Object.assign(docs[doc.$id], doc);\n            } else {\n              docs[doc.$id] = doc;\n            }\n          }\n        });\n\n        return Object[\"values\"](docs);\n\n      }); \n    }).catch(function (err) {\n      console.log('query: index error: '+JSON.stringify(err, Object.getOwnPropertyNames(err)));\n    });\n\n       \n  } \n\n  get(id: string) {\n    return this.db.get(id).then(function (doc) {\n      if (!doc.$id) { // first delta for doc?\n        doc.$id = doc._id;\n      }\n      return doc;\n    });\n  } \n\n  save(item: Item) {\n    return this.db.save(item).then((result) => {\n      return result\n    }); \n  }\n\n  remove(item: Item) {\n    return this.get(item._id).then(doc => {\n      doc.$deleted = true \n      return this.save(doc);\n    })\n  }\n\n  public loadAdditionalFields(type) {\n    return this.query(type).then(docs => {\n      this.additional_fields = docs.map((item)=> item.additional_fields ).filter((a) => a)\n      this.additional_fields = this.additional_fields.reduce((a, b) => a.concat(b), []);\n      this.additional_fields = this.additional_fields.reduce((a, b) => a.concat(b.name), []);\n      this.additional_fields = this.additional_fields.filter((el, i, a) => i === a.indexOf(el))      \n      return this.additional_fields\n    });\n  }\n\n  put(item) {\n    return this.db.put(item).then((res) => {\n      return this.db.get(res.id).then((u) => {\n        return u;\n      });\n    });\n  }\n\n  /**\n   * Send a POST request to our login endpoint with the data\n   * the user entered on the form.\n   */\n  login(email) {\n    console.log('user login', email);\n    return this.query('user', '', { email: email }).then((res) => {\n      console.log('user query', res );\n      if (res && res.length > 0) {\n        this.storage.set('currentUser', res[0]);\n        this.currentUser = res[0]\n        return res[0]\n      }        \n      throw {name: \"not_found\"};  \n    })\n  }\n\n  saveProfile(item) {\n    return this.db.put(item).then((account) => {\n      return this.db.get(account.id).then((u) => {\n        return this.storage.set('currentUser', u).then((response) => {\n          this.currentUser = u\n          return u;\n        });\n      });\n    });\n  }\n\n  /**\n   * Send a POST request to our signup endpoint with the data\n   * the user entered on the form.\n   */\n  signup(accountInfo: any) {\n    console.log('user signup', accountInfo);\n    return this.login(accountInfo.email).catch((e) => {\n      return this.storage.get('currentPosition').then((position) => {\n        accountInfo.position = position\n        return this.db.post(accountInfo).then((account) => {\n          console.log('user post', account);\n          this.storage.set('currentUser', accountInfo).then((response) => {\n            this.currentUser = accountInfo\n            return response;\n          });\n        });\n      });\n    })\n\n  }\n\n  /**\n   * Log the user out, which forgets the session\n   */\n  logout() {\n    this.currentUser = undefined\n    // this.storage.remove('skipTour')\n    return this.storage.remove('currentUser')\n  }\n\n  getCurrentUser() {\n    return this.storage.get('currentUser').then((response) => {\n      console.log('user currentUser', response);\n      this.currentUser = response\n      return response\n    })  \n  }\n\n  skipTour() {\n    console.log('storage', this.storage);\n    return this.storage.get('skipTour').then((response) => {\n      console.log('storage res', response);\n      return response\n    })   \n  }\n\n  setSkipTour(skipTour) {\n    this.storage.set('skipTour', skipTour).then((response) => {\n      return response\n    })   \n  }\n \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/database/database.ts","import {\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Output,\n  OnInit, OnDestroy, Renderer2\n} from '@angular/core';\n\nimport { ImgCacheService } from '../../global';\n\nimport { Subscription } from 'rxjs/Subscription';\nimport { Platform } from 'ionic-angular';\n\n/**\n* This directive is charge of cache the images and emit a loaded event\n*/\n@Directive({\n  selector: '[img-cache]'\n})\nexport class ImgCacheDirective implements OnInit, OnDestroy {\n\n  @Input('source') // double check\n  public source: string = '';\n\n  @Output()\n  public loaded: EventEmitter<void> = new EventEmitter<void>();\n\n  public loadListener: () => void;\n  public errorListener: () => void;\n\n  private cacheSubscription: Subscription;\n\n  constructor(public el: ElementRef,\n    public imgCacheService: ImgCacheService,\n    public renderer: Renderer2,\n    private platform: Platform) { }\n\n  public ngOnInit(): void {\n    // get img element\n    const nativeElement: HTMLElement = this.el.nativeElement;\n\n    // add load listener\n    this.loadListener = this.renderer.listen(nativeElement, 'load', () => {\n      this.renderer.addClass(nativeElement, 'loaded');\n      this.loaded.emit();\n    });\n\n    this.errorListener = this.renderer.listen(nativeElement, 'error', () => {\n      // nativeElement.remove();\n      // this.renderer.setAttribute(nativeElement, 'src', 'assets/img/logo.png');\n    });\n\n    this.renderer.setAttribute(nativeElement, 'src', this.source);\n    \n    // cache img and set the src to the img\n    if (this.platform.is('android')) {\n      this.cacheSubscription =\n        this.imgCacheService\n            .cache(this.source)\n            .subscribe((value) => {\n              this.renderer.setAttribute(nativeElement, 'src', value);\n            }, (e) => console.log(e));\n    }\n  }\n\n  public ngOnDestroy(): void {\n    // remove listeners\n    this.loadListener();\n    this.errorListener();\n    if (this.cacheSubscription) {\n      this.cacheSubscription.unsubscribe();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/img-cache/img-cache.ts","export * from './img-cache.module';\nexport * from './img-cache.service';\n\nexport * from './lazy-img.component';\nexport * from './lazy-img.directive';\n\n\n\n// WEBPACK FOOTER //\n// ./src/global/img-cache/index.ts","import {\n  ModuleWithProviders,\n  NgModule,\n  Optional,\n  SkipSelf } from '@angular/core';\n\nimport { CommonModule } from '@angular/common';\n\nimport { LazyImgComponent } from './lazy-img.component';\nimport { LazyLoadDirective } from './lazy-img.directive';\nimport { ImgCacheService } from './img-cache.service';\n\nconst declarations = [\n  LazyImgComponent,\n  LazyLoadDirective\n];\n\n@NgModule({\n  imports: [ CommonModule ],\n  declarations: [ ...declarations ],\n  exports: [ ...declarations ]\n})\nexport class CacheImgModule {\n\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: CacheImgModule,\n      providers: [\n        ImgCacheService\n      ]\n    };\n  }\n\n  constructor (@Optional() @SkipSelf() parentModule: CacheImgModule) { }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/global/img-cache/img-cache.module.ts","export function normalizeUrlIos(url: string): string {\n  return (url).replace(/(cdvfile|file):\\/\\//g, '');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/global/utils/url.util.ts","import { Component, ViewChild } from '@angular/core';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Config, Nav, Platform, MenuController } from 'ionic-angular';\n\nimport { FirstRunPage, MainPage } from '../pages';\nimport { Api, Database } from '../providers';\nimport { Storage } from '@ionic/storage';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { ImgCacheService } from '../global';\n\n@Component({\n  template: `<ion-split-pane [enabled]=\"this.database.currentUser\">\n    <ion-menu [content]=\"content\">\n      <ion-header>\n        <ion-toolbar>\n          <ion-buttons left>\n            <button ion-button icon-only menuToggle *ngIf=\"!form\">\n              <img src=\"assets/img/logo_white.png\" style=\"width: 40px;\">\n            </button>\n          </ion-buttons>\n\n          <ion-title *ngIf=\"this.database.currentUser\">\n            Rede Agrofloresta\n          </ion-title>\n        </ion-toolbar>\n      </ion-header>\n\n      <ion-content>\n        <ion-list>\n          <ion-item menuClose *ngIf=\"this.database.currentUser\" (click)=\"profile(this.database.currentUser)\" class=\"menu_profile\">\n            <ion-avatar item-start>\n              <img img-cache [source]=\"this.api.imageUrl(this.database.currentUser.picture, 'thumb')\" >\n            </ion-avatar>\n            <h2>{{this.database.currentUser.name}}</h2>\n            <p>{{this.database.currentUser.email}}</p>\n          </ion-item>\n          <button menuClose ion-item (click)=\"openPage('HomePage')\">Início</button>\n          <button menuClose ion-item (click)=\"openPage('PlantsPage')\">Catálogo de espécies</button>\n          <button menuClose ion-item (click)=\"openPage('FeedPage')\">Últimas postagens</button>\n          <button menuClose ion-item (click)=\"openPage('GuidesPage')\">Guias de cultivo</button>\n          <button menuClose ion-item (click)=\"openPage('LibraryPage')\">Biblioteca</button>\n          <button menuClose ion-item (click)=\"openPage('FeedPage', { category: 'event' })\">Eventos</button>\n          <button menuClose ion-item (click)=\"openPage('CsasPage')\">CSAs</button>\n          <button menuClose ion-item (click)=\"openPage('AboutPage')\">Sobre</button>          \n          <button menuClose ion-item (click)=\"openPage('DonatePage')\">Ajude-nos</button>\n        </ion-list>\n      </ion-content>\n\n    </ion-menu>\n    <ion-nav #content main [root]=\"rootPage\"></ion-nav>\n  </ion-split-pane>`\n})\nexport class MyApp {\n  rootPage;\n\n  @ViewChild(Nav) nav: Nav;\n  \n  constructor(private translate: TranslateService, platform: Platform, private config: Config, private statusBar: StatusBar, private splashScreen: SplashScreen, public api: Api, public database: Database, public menuCtrl: MenuController, public storage: Storage, private geolocation: Geolocation, imgCacheService: ImgCacheService) {\n\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      // this.imageLoaderConfig.enableDebugMode();\n      // // this.imageLoaderConfig.enableFallbackAsPlaceholder(true);\n      // this.imageLoaderConfig.setFallbackUrl('assets/img/logo.png');\n      // this.imageLoaderConfig.setMaximumCacheAge(24 * 60 * 60 * 1000);\n\n      this.statusBar.styleDefault();\n        \n      imgCacheService.initImgCache().subscribe((v) => console.log('init'), (e) => console.log('fail init', e));\n      \n      this.database.sync();\n\n      this.initTranslate();\n\n      console.log('position1');\n      this.storage.get('currentPosition').then((p) => {\n        console.log('position', p);\n        if (!p || !p.latitude) {\n          this.geolocation.getCurrentPosition().then((position) => {\n            this.storage.set('currentPosition', { latitude: position.coords.latitude, longitude: position.coords.longitude, accuracy: position.coords.accuracy, altitude: position.coords.altitude, timestamp: position.timestamp } ).catch((e) => {\n              console.log('errr', e);\n            })\n          }).catch((error) => {\n            console.log('Error getting location', error);\n          });          \n        }\n      })\n\n      console.log('skip1');\n      this.database.skipTour().then((skipTour) => {\n        console.log('skipTour', skipTour);\n\n        if (skipTour) {\n          this.database.getCurrentUser().then((r) => {\n            if (r) {\n              this.rootPage = MainPage\n            } else {\n              this.rootPage = FirstRunPage\n            }\n          }).catch(e => {\n            console.log(\"error getting currentUser\");\n          })\n\n        } else {\n          this.rootPage = 'TutorialPage'\n        }\n      }).catch(e => {\n        console.log(\"error getting skipTour\");\n      });\n\n      this.splashScreen.hide();\n\n    });\n    \n    \n  }\n\n  initTranslate() {\n    // Set the default language for translation strings, and the current language.\n    this.translate.setDefaultLang('pt-br');\n    // const browserLang =  this.translate.getBrowserLang();\n    const browserLang = false;\n\n    if (browserLang) {\n      if (browserLang === 'zh') {\n        const browserCultureLang = this.translate.getBrowserCultureLang();\n\n        if (browserCultureLang.match(/-CN|CHS|Hans/i)) {\n          this.translate.use('zh-cmn-Hans');\n        } else if (browserCultureLang.match(/-TW|CHT|Hant/i)) {\n          this.translate.use('zh-cmn-Hant');\n        }\n      } else {\n        this.translate.use(this.translate.getBrowserLang());\n      }\n    } else {\n      this.translate.use('pt-br'); // Set your language here\n    }\n\n    this.translate.get(['BACK_BUTTON_TEXT']).subscribe(values => {\n      this.config.set('ios', 'backButtonText', values.BACK_BUTTON_TEXT);\n    });\n  }\n\n  logout() {\n    this.nav.setRoot('WelcomePage');   \n    this.database.logout()\n    // this.menuCtrl.close(); \n  }\n\n  openPage(page, params?) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    this.nav.setRoot(page, params);\n  }\n\n  profile(user) {\n    this.nav.setRoot('ProfilePage', { id: user._id });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}